{% extends 'otp/student/html/dashbase.html' %}
{% load widget_tweaks %}
{% block content %}

<center>
{% if messages %}
  {% for message in messages %}  

  <div class="alert alert-{{message.tags}}" role="alert" style="margin-top: 30px;width:700px;height:50px;">
    <h5>{{message}}</h5>
  </div>
    
  {% endfor %}
  {% endif %}  

  {% if message_error %}
    <div class="alert alert-danger" role="alert" style="margin-top: 30px;width:100px;height:30px;">
       <h5>{{ message_error }}</h5>
    </div>
  {% endif %}
</center>
<br>

<style>
  .btn-primary{
      width: 20%;
      border: none;
      border-radius: 50px;
      background: linear-gradient(90deg, rgba(2,0,36,1) 0%, rgba(75,14,154,1) 35%, rgba(0,212,255,1) 100%);
      
  }
</style> 
<h2 class="card-header text-center" style='color:rgba(75, 14, 154, 1) 35%;'style="color:black;">Overall Leaderboard</h2><br><br>
<!-- Basic Bootstrap Table -->
<div class="card" style="margin-left:20px;margin-right:20px;">
    <div class="card-body">
    </div>
    
    <div class="table-responsive text-nowrap">
      <table class="table" id="example">
        <thead>
          <tr>
            <th style="text-align:center;font-size:19px;color:black;">Rank</th>
            <th style="text-align:center;font-size:19px;color:black;">Exam</th>
            <th style="text-align:center;font-size:19px;color:black;">Exam Date</th>
            <th style="text-align:center;font-size:19px;color:black;">Mark</th>
            <th style="text-align:center;font-size:19px;color:black;">Duration</th>
          </tr>
        </thead>
        <tbody class="table-border-bottom-0">
          {% for r in results %}
          <tr>
            <td style="text-align:center;font-size:19px;color:black;"> {{r.rank}}</td>
            <td style="text-align:center;font-size:19px;color:black;"> {{r.exam.course}}</td>
            <td style="text-align:center;font-size:19px;color:black;"> {{r.date}}</td>
            <td style="text-align:center;font-size:19px;color:black;"> {{r.marks}}</td>
            <td style="text-align:center;font-size:19px;color:black;"> {{ r.duration }}</td>
          </tr>
          {% endfor %}
    
        </tbody>

      </table><br><br>

    </div>
  </div>
<br><br>

<h2 class="card-header text-center" style='color:rgba(75, 14, 154, 1) 35%;' >Personal Best Scores</h2><br><br>
  <div class="card" style="margin-left:20px;margin-right:20px;">
    <div class="card-body" >
    </div>
    <div class="table-responsive text-nowrap">
      <table class="table mx-auto" id="best">
        <thead>
            <tr>
                <th style="text-align:center;font-size:19px;color:black;">Exam</th>
                <th style="text-align:center;font-size:19px;color:black;">Mark</th>
                <th style="text-align:center;font-size:19px;color:black;">Percentage</th>
            </tr>
        </thead>
        <tbody class="table-border-bottom-0">
            {% for result in aggregated_results  %}
            <tr>  
                <td style="text-align:center;font-size:19px;color:black;"> {{ result.exam_name }}</td>
                <td style="text-align:center;font-size:19px;color:black;"> {{ result.total_marks }}</td>
                <td style="text-align:center;font-size:19px;color:black;"> {{ result.exam_percentage  }}%</td>
            </tr>
            {% endfor %}
        </tbody>
    </table><br><br>
    </div>
  </div>

  <br><br>
  <!--/ Basic Bootstrap Table -->
  {% endblock content %}